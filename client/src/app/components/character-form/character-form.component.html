<div [class.gray-background]="showForm" class="character-form-container">
    @if (showForm) {
    <div class="character-form_header">
        <div class="character-form_cancel">
            <button class="character-form_cancel-button" (click)="closePopup()">
                <img [src]="xSword" alt="xSword" class="cancel-swords" />
            </button>
        </div>
        <h1 id="character-form_title">Cr√©er un personnage</h1>
    </div>

    <input type="text" placeholder="Nom du personnage" [(ngModel)]="createdPlayer.name" (input)="checkCharacterNameLength()" maxlength="20" />

    <div class="character-form_body">
        <div class="character-form_avatars">
            @for (avatar of avatarTypes; track avatar) {
            <img
                (click)="selectAvatar(avatar)"
                [src]="avatar"
                [class.selected]="createdPlayer.avatar === avatar"
                [class.disabled]="unavailableAvatars.includes(avatar) && createdPlayer.avatar !== avatar"
                alt="Avatar"
            />
            }
        </div>

        <div class="character-form_attributes">
            @for (attribute of attributeKeys; track attribute) {
            <div>
                <span>
                    {{ attribute.charAt(0).toUpperCase() + attribute.slice(1) }} : {{ attributes[attribute] }} @if (attribute ===
                    attributeTypes.Attack && createdPlayer.attack.bonusDice) { + {{ createdPlayer.attack.bonusDice }} } @if (attribute ===
                    attributeTypes.Defense && createdPlayer.defense.bonusDice) { + {{ createdPlayer.defense.bonusDice }}
                    }
                </span>

                @if (attribute === attributeTypes.Vitality || attribute === attributeTypes.Speed) {
                <button (click)="assignBonus(attribute)" [disabled]="bonusAssigned[attribute]">
                    +2 {{ attribute.charAt(0).toUpperCase() + attribute.slice(1) }}
                </button>
                } @if (attribute === attributeTypes.Attack || attribute === attributeTypes.Defense) {
                <button (click)="assignDice(attribute)" [disabled]="diceAssigned[attribute]">
                    {{ diceTypes.D6.toUpperCase() }} {{ attribute.charAt(0).toUpperCase() + attribute.slice(1) }}
                </button>
                }
            </div>
            }
        </div>
    </div>

    <button (click)="submitCharacter()">Confirmer</button>
    }
</div>

<!-- <div class="character-form-container">
    <div class="character-form-header">
        <h1>Entrez votre pseudo</h1>
        <input type="text" placeholder="_________" />
    </div>

    <div class="character-form-body">
        <div class="character-stats">
            <div class="stat">
                <span class="stat-label">HP</span>
                <div class="stat-bar"><div class="stat-fill"></div></div>
                <span class="stat-value">6 HP</span>
            </div>
            <div class="stat">
                <span class="stat-label">VIT</span>
                <div class="stat-bar"><div class="stat-fill"></div></div>
                <span class="stat-value">4 MS</span>
                <button>+2</button>
            </div>
            <div class="stat">
                <span class="stat-label">ATQ</span>
                <div class="stat-bar"><div class="stat-fill"></div></div>
                <span class="stat-value">4 AD</span>
                <button>D6</button>
            </div>
            <div class="stat">
                <span class="stat-label">DEF</span>
                <div class="stat-bar"><div class="stat-fill"></div></div>
                <span class="stat-value">4 DP</span>
                <button>D6</button>
            </div>
        </div>

        <div class="character-avatars">
            <div class="avatar-grid">
                <img src="avatar1.png" alt="Avatar 1" />
                <img src="avatar2.png" alt="Avatar 2" />
                <img src="avatar3.png" alt="Avatar 3" />
                <img src="avatar4.png" alt="Avatar 4" />
                <img src="avatar5.png" alt="Avatar 5" />
                <img src="avatar6.png" alt="Avatar 6" />
                <img src="avatar7.png" alt="Avatar 7" />
                <img src="avatar8.png" alt="Avatar 8" />
                <img src="avatar9.png" alt="Avatar 9" />
                <img src="avatar10.png" alt="Avatar 10" />
                <img src="avatar11.png" alt="Avatar 11" />
                <img src="avatar12.png" alt="Avatar 12" />
            </div>
        </div>
    </div>
</div>
 -->
