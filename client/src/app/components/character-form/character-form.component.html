<div [class.gray-background]="showForm" class="form-container">
    @if(showForm === true){
    <div class="header-container">
        <div class="popup-cancel">
            <button class="cancel-button" (click)="closePopup()"></button>
        </div>
        <h1>Create a Character</h1>
    </div>
    <input type="text" placeholder="Character Name" [(ngModel)]="characterName" />
    <div class="avatars-and-attributes">
        <div class="avatars">
            <img
                src="assets/avatars/avatar1.png"
                (click)="selectedAvatar = 'assets/avatars/avatar1.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar1.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar2.png"
                (click)="selectedAvatar = 'assets/avatars/avatar2.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar2.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar3.png"
                (click)="selectedAvatar = 'assets/avatars/avatar3.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar3.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar4.png"
                (click)="selectedAvatar = 'assets/avatars/avatar4.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar4.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar5.png"
                (click)="selectedAvatar = 'assets/avatars/avatar5.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar5.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar6.png"
                (click)="selectedAvatar = 'assets/avatars/avatar6.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar6.png'"
                alt="Avatar"
            />
        </div>
        <div class="avatars">
            <img
                src="assets/avatars/avatar7.png"
                (click)="selectedAvatar = 'assets/avatars/avatar7.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar7.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar8.png"
                (click)="selectedAvatar = 'assets/avatars/avatar8.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar8.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar9.png"
                (click)="selectedAvatar = 'assets/avatars/avatar9.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar9.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar10.png"
                (click)="selectedAvatar = 'assets/avatars/avatar10.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar10.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar11.png"
                (click)="selectedAvatar = 'assets/avatars/avatar11.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar11.png'"
                alt="Avatar"
            />
            <img
                src="assets/avatars/avatar12.png"
                (click)="selectedAvatar = 'assets/avatars/avatar12.png'"
                [class.selected]="selectedAvatar === 'assets/avatars/avatar12.png'"
                alt="Avatar"
            />
        </div>
        <div class="attributes">
            <div>
                <span>Vitality : {{ attributes.vitality }}</span>
                <button (click)="assignBonus('vitality')" [disabled]="bonusAssigned.vitality">+2 Vitality</button>
            </div>
            <div>
                <span>Speed : {{ attributes.speed }}</span>
                <button (click)="assignBonus('speed')" [disabled]="bonusAssigned.speed">+2 Speed</button>
            </div>
            <div>
                <span
                    >Attack : {{ attributes.attack }}
                    @if(diceAssigned.attack) {
                    <span>+D6</span>
                    } @if(!diceAssigned.attack && diceAssigned.defense) {
                    <span>+D4</span>
                    }
                </span>
                <button (click)="assignDice('attack')" [disabled]="diceAssigned.attack">D6 Attack</button>
            </div>
            <div>
                <span
                    >Defense : {{ attributes.defense }}
                    @if(diceAssigned.defense) {
                    <span>+D6</span>
                    } @if(!diceAssigned.defense && diceAssigned.attack) {
                    <span>+D4</span>
                    }
                </span>
                <button (click)="assignDice('defense')" [disabled]="diceAssigned.defense">D6 Defense</button>
            </div>
        </div>
    </div>

    <button (click)="submitCharacter()">Confirm</button>
    }
</div>
