<div [class.gray-background]="showForm" class="character-form-container">
    @if(showForm === true){
    <div class="character-form_header">
        <div class="character-form_cancel">
            <button class="character-form_cancel-button" (click)="closePopup()"></button>
        </div>

        <h1 id="character-form_title">Create a Character</h1>
    </div>

    <input type="text" placeholder="Character Name" [(ngModel)]="characterName" />

    <div class="character-form_body">
        <div class="character-form_avatars">
            @for (avatar of avatars; track avatar) {
            <img [src]="avatar" (click)="selectedAvatar = avatar" [class.selected]="selectedAvatar === avatar" alt="Avatar" />
            }
        </div>

        <div class="character-form_attributes">
            @for (attribute of attributesList; track attribute) {
            <div>
                @if (attribute.assignBonus) {
                <span>{{ attribute.label }} : {{ attribute.value() }}</span>
                <button (click)="attribute.assignBonus()" [disabled]="attribute.bonusDisabled()">+2 {{ attribute.label }}</button>
                } @if (attribute.assignDice) {
                <span
                    >{{ attribute.label }} : {{ attribute.value() }}
                    {{ attribute.bonusDisabled() ? '+ D6' : !attribute.bonusDisabled() ? '+ D4' : '' }}</span
                >
                <button (click)="attribute.assignDice()" [disabled]="attribute.bonusDisabled()">D6 {{ attribute.label }}</button>
                }
            </div>
            }
        </div>
    </div>

    <button (click)="submitCharacter()">Confirm</button>
    }
</div>
